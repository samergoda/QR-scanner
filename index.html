<!DOCTYPE html>
<html>
<head>
  <title>QR Code Scanner</title>
  <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
  </head>
  <style>
section{
    display: flex;
    justify-content: center;
    align-items: center;
 }
 #result{
    font-size: 5rem;
 }
  </style>
  <body>
    <section>

        <video id="preview"></video>
    </section>
<p id="result"></p>
  <script type="text/javascript">

let scanner;
let currentCameraIndex = 0;

function startScanner(cameraIndex) {
  if (scanner) {
    scanner.stop();
  }

  scanner = new Instascan.Scanner({ video: document.getElementById('preview') });
  
  scanner.addListener('scan', function(content) {
    console.log('Scanned content: ' + content);
    document.getElementById('result').textContent = content;
  });

  Instascan.Camera.getCameras().then(function(cameras) {
    if (cameras.length > 0) {
      if (cameraIndex < cameras.length) {
        scanner.start(cameras[cameraIndex]);
        currentCameraIndex = cameraIndex;
      } else {
        console.error('Invalid camera index.');
      }
    } else {
      console.error('No cameras found.');
    }
  }).catch(function(e) {
    console.error(e);
  });
}

// Call this function when you want to switch to the other camera
function toggleCamera() {
  const nextCameraIndex = (currentCameraIndex + 1) % 2; // Assuming there are only two cameras
  startScanner(nextCameraIndex);
}
  </script>

  </body>
  </html>